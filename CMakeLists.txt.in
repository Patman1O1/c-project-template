#-----------------------------------------------------------------------------------------------------------------------
# Information
#-----------------------------------------------------------------------------------------------------------------------
cmake_minimum_required_version(VERSION @CMAKE_MINIMUM_REQUIRED_VERSION@)
project(@PROJECT_NAME@
        VERSION @PROJECT_VERSION@
        DESCRIPTION @PROJECT_DESCRIPTION@
        LANGUAGES C
)

cmake_file_api(
        QUERY
        API_VERSION 1
        CODEMODEL 2.3
)

# Ensure the project has a namespace
if(NOT DEFINED PROJECT_NAMESPACE)
    set(PROJECT_NAMESPACE "${PROJECT_NAME_PASCAL_CASE}" CACHE STRING "The project's namespace")
endif()

#-----------------------------------------------------------------------------------------------------------------------
# Settings
#-----------------------------------------------------------------------------------------------------------------------
# C Settings
set(CMAKE_C_STANDARD @CMAKE_C_STANDARD@)
set(CMAKE_C_STANDARD_REQUIRED ON)

# Project Settings
option(BUILD_SHARED_LIBS "Build the project as a shared library" @BUILD_SHARED_LIBS@)
option(BUILD_TEST "Build the project's tests" OFF)

# Set default build type if not specified
if(NOT DEFINED CMAKE_BUILD_TYPE AND NOT DEFINED CMAKE_CONFIGURATION_TYPES)
    set(CMAKE_BUILD_TYPE Release CACHE STRING "Build type" FORCE)
    set_property(CACHE CMAKE_BUILD_TYPE PROPERTY STRINGS "Debug" "Release" "MinSizeRel" "RelWithDebInfo")
endif()

#-----------------------------------------------------------------------------------------------------------------------
# Project Initialization
#-----------------------------------------------------------------------------------------------------------------------
@PROJECT_INIT@

#-----------------------------------------------------------------------------------------------------------------------
# Subdirectories
#-----------------------------------------------------------------------------------------------------------------------
add_subdirectory("src")

if(BUILD_TEST)
    add_subdirectory("test")
endif()

